<div class="background-color">
  <div class="page-container">
    <div>
      <h1>Social Media Dashboard</h1>
      <p>Track your social media performance across all platforms</p>
    </div>

    <mat-card class="stats-card mb-5 max-width card-center">
      <mat-card-content>
        <div class="stats-container">
          <div class="stat-item">
            <p class="label">Connect Platforms</p>
            <div class="button-group">

              @if (!isYoutubeConnected()) {
                <button mat-raised-button class="btn-youtube" (click)="connectYoutube()">
                  <mat-icon>play_circle</mat-icon> Connect YouTube
                </button>
              } @else {
                <span class="connected-badge youtube"><mat-icon>check</mat-icon> YouTube Connected</span>
              }

              @if (!isTwitchConnected()) {
                <button mat-raised-button class="btn-twitch" (click)="connectTwitch()">
                  <mat-icon>videogame_asset</mat-icon> Connect Twitch
                </button>
              } @else {
                <span class="connected-badge twitch"><mat-icon>check</mat-icon> Twitch Connected</span>
              }

              @if (!isInstagramConnected()) {
                <button mat-raised-button class="btn-instagram" (click)="connectInstagram()">
                  <mat-icon>camera_alt</mat-icon> Connect Instagram
                </button>
              } @else {
                <span class="connected-badge instagram"><mat-icon>check</mat-icon> Instagram Connected</span>
              }

              @if (!isTikTokConnected()) {
                <button mat-raised-button class="btn-tiktok" (click)="connectTiktok()">
                  <mat-icon>music_note</mat-icon> Connect TikTok
                </button>
              } @else {
                <span class="connected-badge tiktok"><mat-icon>check</mat-icon> TikTok Connected</span>
              }
            </div>
          </div>

          <div class="stat-item">
            <p class="label">Total Followers</p>
            <p class="value">{{ totalFollowers | number }}</p>
          </div>

          <div class="stat-item">
            <p class="label">Average Growth</p>
            <p class="value">{{ avgGrowth }}%</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="text-align-center max-width card-center mb-5">
      <div class="platform-cards-container">
        @for (account of accounts; track account.id) {
          <app-platform-card [account]="account"></app-platform-card>
        }
      </div>
    </mat-card>

    <mat-card class="max-width card-center mb-5 text-align-center platform-cards-container">
      <h2>Follower Growth Over Time</h2>
      <app-stat-chart [data]="chartData"></app-stat-chart>
    </mat-card>
  </div>
</div>
